/* Drawer selected layout -> responsive behavior */
@import "variables.css";

#drawer-content {
  height: 100%;
  box-sizing: border-box;
  position: relative; /* positioned container for absolutely placed controls */
  overflow: auto; /* make the drawer itself scrollable so controls can be anchored to its viewport */
}

#drawer-content .drawer-selected {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  justify-content: space-between;
  gap: 24px; /* increased spacing between SF Symbol and text */
  height: 100%;
}

#drawer-content .drawer-code {
  margin: 0;
  flex: 0 0 50%;
  max-width: 50%;
  min-width: 28%;
  height: auto; /* make height flexible */
  overflow: auto;
  padding-top: 0; /* ensure codebox docks to top */
  padding-bottom: 0; /* ensure codebox docks to bottom */
  position: static;
}

/* Add a left border to the drawer code box that matches the footer top border */
#drawer-content .drawer-code {
  border-left: 1px solid var(--border-subtle);
}

/* Dock code box to top/right/bottom by removing extra spacing inside */
#drawer-content .drawer-code pre { margin: 0; }

.codebox-bg { 
  background: var(--codebox-background);
  /* remove vertical padding so first/last lines dock to the top/bottom */
  padding: 0;
  white-space: pre;
  position: relative;
  overflow-x: auto;
  -webkit-font-smoothing: antialiased;
}

/* Line numbers */
.line-number {
  /* reserve fixed width and right-align so numbers line up vertically */
  display: inline-block;
  min-width: 2.2rem; /* space for up to 4-digit line numbers */
  text-align: right;
  margin-right: 0.75rem;
  color: var(--syntax-comment-color);
  user-select: none;
  /* ensure digits use a fixed-width glyph for precise alignment */
  font-variant-numeric: tabular-nums;
}

/* Make punctuation/braces slightly more visible and heavier */
.syntax-punctuation {
  color: var(--syntax-punctuation-strong-color);
  font-weight: 600;
}

/* Copy button anchored to the drawer viewport (top-right). Keep it outside the code scroll area. */
#drawer-content .drawer-code .drawer-copy-btn {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  z-index: 20;
}

/* Preview box for symbol display */
.drawer-preview-box {
  border: 1px solid var(--border-muted);
  background: var(--bg-secondary);
  color: var(--symbol-color);
}

/* Syntax highlighting using variables so colors adapt to mode */
.syntax-keyword { color: var(--syntax-keyword-color); }
.syntax-string { color: var(--syntax-string-color); }
.syntax-component { color: var(--syntax-component-color); }
.syntax-comment { color: var(--syntax-comment-color); font-style: italic; }
.syntax-number { color: var(--syntax-number-color); }
.syntax-constant { color: var(--syntax-constant-color); }
.syntax-operator { color: var(--syntax-operator-color); }
.syntax-property { color: var(--syntax-property-color); }
.syntax-punctuation { color: var(--syntax-punctuation-color); }

/* On narrow viewports stack code box under preview/info */
@media (max-width: 900px) {
  #drawer-content .drawer-selected {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }

  #drawer-content .drawer-code {
    flex: 0 0 auto;
    max-width: 100%;
    min-width: 100%;
    order: 3;
    height: auto;
    min-height: 120px;
  }
}